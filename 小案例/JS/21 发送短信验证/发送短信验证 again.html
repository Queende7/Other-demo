<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>发送短信验证 again</title>
</head>
<body>
	<input type="text">
	<button id="btn">点击发送短信</button>
</body>
</html>
<script>
	  var btn = document.getElementById("btn"); // 获取 button 对象。
	  var count = 10; // 全局变量。
	  var timer = null; // 定义 定时器名称。
	  btn.onclick = function(){   // 点击事件。
	  	clearInterval(timer); // 每点击一次，清除定时器。
	  	this.disabled = true; // 点击后，btn 不可用。
	  	var that = this;  // 定义对象变量，以便下面使用。
	  	timer = setInterval(sendmessage,1000); //开始定时器。
	  	function sendmessage(){  // 定时器中的函数。
	  		count--;
	  		if(count >= 0){
	  			that.innerHTML= "还剩余 "+count+" 秒";
	  		}else{
	  			that.innerHTML= "重新发送短信";
	  			that.disabled= false; // 倒计时结束后，让按钮重新可用。
	  			clearInterval(timer); // 小于10秒时，清除倒计时，避免死循环。
	  			count = 10; // 重新赋值，以便点击时，重新执行。
	  		}
	  	}
	  }
</script>