<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>发送短信验证</title>
</head>
<body>
	<input type="text">
	<button>点击发送短信</button>
</body>
<script>
	var btn = document.getElementsByTagName("button")[0]; //获取对象。
	var count = 10;  //全局变量。
	var timer = null; //定时器的名字。
	btn.onclick = function(){
		clearInterval(timer);  // 每点一次先清除原来的定时器。
		this.disabled = true; // 使按钮不可用。
		var that = this;   // 定义that变量，this指向 btn，已被下面调用。
		timer =setInterval(sendmessage,1000); //开启定时器。
		function sendmessage(){
			count--;
			if(count >=0){
				that.innerHTML= "还剩余"+count+"秒";//修改btn的内容，而不是定时器的内容。
			}else{
				that.innerHTML= "重新发送短信";  
				that.disabled= false;
				clearInterval(timer);  //当count 小于0时，清除定时器。
				count = 10; //清除定时器后，重新赋值，已被重新点击时，调用定时器。
			}
		}
	}
</script>
</html>