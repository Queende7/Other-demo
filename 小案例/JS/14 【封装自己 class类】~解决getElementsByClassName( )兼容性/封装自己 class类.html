<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>封装自己 class类</title>
	<style>
		div {
			width: 100px;
			height: 100px;
			background-color: pink;
			margin: 10px;
			padding: 20px;
		}
	</style>

<script>
    window.onload = function(){
       //封装自己class类名  函数
        function getClass(classname){
            //一、如果浏览器支持，则直接返回
            if(document.getElementsByClassName) // 主流浏览器支持。
            {
                return document.getElementsByClassName(classname);
            }
            //二、不支持的 浏览器
            var arr = []; // 用于存放满足的数组
            var dom = document.getElementsByTagName("*");  // 遍历所有的盒子
            //alert(dom.length);
            for(var i=0;i<dom.length;i++)
            {
	      		var txtarr = dom[i].className.split(" ");
                // 分割类名，并且返回一个数组。 split()  把一个字符串转换为数组。
	      		//  [“demo”,”test”,”one”]
	      		for(var j=0;j<txtarr.length;j++){  // 遍历 通过类名分割的数组
                	if(dom[j].className == classname)
                	{
                    	arr.push(dom[i]);  // 我们要的是 div
                	}
	     		}	
            }
            return arr;
        }

        //调用 封装的函数
        console.log(getClass("demo").length);
        var test = getClass("demo");  // 获取含有类名class的盒子数组，再遍历修改样式。
        for (var i=0;i<test.length;i++){
	  		test[i].style.backgroundColor = "purple";
		}
    }
</script>
</head>
<body>
	<div>0</div>
	<div class="demo">1</div>
	<div class="test">2</div>
	<div>3</div>
	<div>4</div>
	<div class="demo test test_01">5</div>
	<div class="demo one">6</div>
	<div>7</div>
	<div class="demo">8</div>
	<div class="one two test">9</div>
</body>
</html>